@import url('https://fonts.googleapis.com/css2?family=League+Gothic:wght@400;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Anton&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');

/* Brick Sans local font. Files are in /public/fonts/NTBrickSans */
@font-face {
  font-family: 'Brick Sans';
  src:
    url('/fonts/NTBrickSans/NTBrickSans.otf') format('opentype'),
    url('/fonts/NTBrickSans/NTBrickSans.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Outline text utility: true outline (no fill), crisp stroke */
.outline-text {
  color: transparent !important;
  -webkit-text-fill-color: transparent;
  -webkit-text-stroke: 1px #ffffff; /* thin, crisp outline */
  paint-order: stroke fill;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: geometricPrecision;
}

/* Outside-only outline (no inner counters), using 8-direction text-shadow */
.outline-outside {
  color: transparent !important;
  text-shadow:
    -1px -1px 0 #ffffff,
     0   -1px 0 #ffffff,
     1px -1px 0 #ffffff,
     1px  0   0 #ffffff,
     1px  1px 0 #ffffff,
     0    1px 0 #ffffff,
    -1px  1px 0 #ffffff,
    -1px  0   0 #ffffff;
}

html, body, #root {
  height: 100%;
}

html {
  scroll-behavior: smooth;
}

/* Custom Glide.js styles */
.glide {
  position: relative;
  width: 100%;
  box-sizing: border-box;
  /* Add extra padding for hover scaling */
  padding: 0.5rem 0;
  /* Ensure static padding doesn't interfere with carousel width */
  overflow: visible;
}

.glide * {
  box-sizing: inherit;
}

.glide__track {
  overflow: hidden;
  /* Add extra height to prevent clipping */
  padding: 0.25rem 0;
  scroll-behavior: smooth;
}

.glide__slides {
  position: relative;
  width: 100%;
  list-style: none;
  backface-visibility: hidden;
  transform-style: preserve-3d;
  touch-action: pan-Y;
  overflow: hidden;
  margin: 0;
  padding: 0;
  white-space: nowrap;
  display: flex;
  align-items: stretch; /* Ensure consistent height alignment */
}

.glide__slides--dragging {
  user-select: none;
}

.glide__slide {
  position: relative;
  display: inline-block;
  width: 100%;
  height: 100%;
  white-space: normal;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  vertical-align: top;
  flex-shrink: 0; /* Prevent cards from shrinking */
  display: flex;
  align-items: center;
  justify-content: center;
  /* Add spacing and ensure transforms don't clip */
  padding: 0.25rem;
  transform-origin: center;
  overflow: visible;
}

.glide__slide a {
  user-select: none;
  -webkit-user-drag: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.glide__arrow {
  border: none;
  background: none;
  outline: none;
  cursor: pointer;
}

.glide__arrow:hover {
  transform: scale(1.1);
}

.glide__bullet {
  border: none;
  outline: none;
}

.glide__bullet[data-glide-active] {
  background-color: var(--accent-color, #D4AF37) !important;
  transform: scale(1.25);
}

.glide__bullet:hover {
  transform: scale(1.1);
}

/* Override default Glide styles for seamless infinite scrolling */
.glide--swipeable {
  cursor: grab;
  cursor: -webkit-grab;
}

.glide--dragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Ensure consistent card spacing and alignment */
.glide__slide > div {
  margin: 0 auto; /* Center cards within slides */
}

/* Static padding enhancement for carousel containers */
.glide:before,
.glide:after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 2rem;
  pointer-events: none;
  z-index: 1;
}

/* .glide:before {
  left: 0;
  background: linear-gradient(to right, rgba(255,255,255,0.1), transparent);
}

.glide:after {
  right: 0;
  background: linear-gradient(to left, rgba(255,255,255,0.1), transparent);
} */

.glass {
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(6px);
}

/* SUPER THIN outline using text-shadow - NO FILL */
.text-outline-only {
  color: transparent !important;
  text-shadow: 
    -0.25px -0.25px 0 #d4a574,
     0     -0.25px 0 #d4a574,
     0.25px -0.25px 0 #d4a574,
     0.25px  0     0 #d4a574,
     0.25px  0.25px 0 #d4a574,
     0      0.25px 0 #d4a574,
    -0.25px  0.25px 0 #d4a574,
    -0.25px  0     0 #d4a574;
}

/* Outlined text utilities for consistent rendering */
.outlined-text {
  -webkit-text-stroke-width: 0.5px;
  -webkit-text-fill-color: transparent;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: geometricPrecision;
  shape-rendering: geometricPrecision;
  paint-order: stroke fill;
}

/* Dark mode base colors */
.dark body {
  background-color: #000000;
  color: #ebdcc4;
}

/* Remove underlines from navigation links */
.no-underline {
  text-decoration: none !important;
}

nav a {
  text-decoration: none !important;
}

/* --------------------------------------------------
   Project cards: dim all non-hovered cards across the Projects section
   Works with Glide.js clones because it's CSS-only.
   - Hovering any .project-card dims all others within .projects-root
   - Hovered card stays at full opacity
   - On hover out, all reset to full opacity
--------------------------------------------------- */
.projects-root:has(.project-card:hover) .project-card {
  opacity: 0.35;
  transition: opacity 220ms ease-in-out;
}

.projects-root .project-card:hover {
  opacity: 1 !important;
}

/* Smooth transition for opacity/transform; transparent bg to avoid whitish at corners */
.project-card {
  transition: opacity 240ms ease-in-out, transform 320ms cubic-bezier(0.22, 1, 0.36, 1);
  background: transparent;
}

/* Animated criss-cross squares background (Projects section only) */
.projects-criss-cross {
  position: relative;
  isolation: isolate; /* keep pseudo-element behind content */
}

.projects-criss-cross::before {
  /* Config */
  --sq: 64px; /* square size */
  --line: rgba(52, 40, 36, 0.16); /* grid line color (light) */

  content: "";
  position: absolute;
  /* Expand beyond section to avoid revealing edges during movement */
  /* Large coverage to avoid any edge exposure during animation */
  top: -120%;
  left: -120%;
  right: -120%;
  bottom: -120%;
  z-index: 0;
  pointer-events: none;
  
  /* Maximum performance optimization */
  will-change: transform;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
  transform-style: preserve-3d;

  /* Grid layers: only H/V lines to avoid triangle blink */
  background-image:
    repeating-linear-gradient(0deg, var(--line) 0 2px, transparent 2px var(--sq)),
    repeating-linear-gradient(90deg, var(--line) 0 2px, transparent 2px var(--sq));
  background-size: var(--sq) var(--sq), var(--sq) var(--sq);
  background-position: 0 0, 0 0;
  
  animation: projectsGridDrift 4s linear infinite;
}

/* Vignette effect overlay */
.projects-criss-cross::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  pointer-events: none;
  /* Hide vignette in light mode */
  background: none;
}

.dark .projects-criss-cross::before {
  --line: rgba(235, 220, 196, 0.18);
}

.dark .projects-criss-cross::after {
  background: linear-gradient(to right, rgba(0, 0, 0, 0.8) 0%, transparent 20%, transparent 80%, rgba(0, 0, 0, 0.8) 100%);
}

@keyframes projectsGridDrift {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    /* move diagonally bottom-right by one full tile to loop seamlessly */
    transform: translate3d(var(--sq), var(--sq), 0);
  }
}